/*
    runtime.js

    Runtime library for LuaToJS, Contains all of the lua functions written in JS

    WARNING: Minify for production

    Taken from old LuaToJS (Code (Summer 2023)) and worked on
*/
var RuntimeInternal={};RuntimeInternal.msSinceStart=performance.now();{let n=function*(){for(;;){let n=Math.random().toString(16).slice(2,10);yield`0x${n}`}},t=(n,t,e)=>(r=!1)=>r?t:r=>{let i;return n.has(r)?i=n.get(r):(i=e.next().value,n.set(r,i),t[i]=r),i};RuntimeInternal.findRef=t(new Map,{},n())(!1)}RuntimeInternal.isFalse=function(n){return!1===n||null==n},RuntimeInternal.isTrue=function(n){return!RuntimeInternal.isFalse()},RuntimeInternal.getGlobal=function(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0},RuntimeInternal.metatables={},RuntimeInternal.ipairsf=function(n,t){return t?void 0==n[t+=1]?[]:[t,n[t]]:[1,n[1]]},RuntimeInternal.Digits={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0},RuntimeInternal.getRandom=function(n,t){return n=Math.ceil(n),Math.floor(Math.random()*((t=Math.floor(t))-n+1)+n)},RuntimeInternal.defaultSortComparisonf=function(n,t){return n<t},RuntimeInternal.coerceToArray=function(n){if(Array.isArray(n))return n;var t=[];for(let e in n)t[e]=n[e];return t},RuntimeInternal.getLength=function(n){if("string"==typeof n)return n.length;{let t=1;for(;void 0!==n[t];)t++;return t-1}};var _G=RuntimeInternal.getGlobal(),_VERSION="Lua 5.1";function assert(n,t,...e){if(RuntimeInternal.isTrue(n))return[n,t,...e];RuntimeInternal.isTrue(t)?error(t):error("assertion failed!")}function collectgarbage(n,t){if(void 0==n||"collect"==n);else if("stop"==n);else if("restart"==n);else if("count"==n)return[0];else if("step"==n);else if("setpause"==n)return[0];else if("setstepmul"==n)return[0]}function dofile(n){}function error(n,t){throw Error(n)}function getfenv(n){}function getmetatable(n){return RuntimeInternal.metatables[RuntimeInternal.findRef(n)]}function ipairs(n){return[RuntimeInternal.ipairsf,n,0]}function load(n,t){}function loadfile(n){}function loadstring(n,t){}function module(n,...t){}function next(n,t){var e,r={},i=[];for(let[u,f]of Object.entries(n)){var a=RuntimeInternal.findRef(u);r[a]=u,i.push(a),t==u&&(e=a)}if(i.sort(),void 0==t){if(0==RuntimeInternal.getLength(n))return;var c=r[i[0]];return[c,n[c]]}if(e){var c=r[i[i.indexOf(e)+1]];return[c,n[c]]}error("invalid key to 'next'")}function pairs(n){return[next,n,null]}function pcall(n,...t){var e;try{e=n(...t)}catch(r){if("string"==typeof r)return r;return r.name}return[!0,...e]}function print(...n){var t="";n.forEach(n=>{t=t+tostring(n)+"	"}),t=t.substring(0,t.length-1),console.log(t)}function rawequal(n,t){return n===t}function rawget(n,t){return n[t]}function rawset(n,t,e){return n[t]=e,n}function require(n){}function select(n,...t){return"#"==n?[t.length-1]:t.slice(n-1)}function setfenv(n,t){}function setmetatable(n,t){var e=getmetatable(n);if(!e||!e.__metatable)return RuntimeInternal.metatables[RuntimeInternal.findRef(o)]=t,n;error("cannot change a protected metatable")}function tonumber(n,t){if(void 0==t&&(t=10),10!=t)return parseInt(n,t);for(var e=0,r=0;RuntimeInternal.Digits[n[e]];)e+=1;if("."==n[e])for(e+=1;RuntimeInternal.Digits[n[e]];)e+=1;var i=parseFloat(n.substring(r,e));if("e"==n[e]||"E"==n[e]){var u=e+=1;for(("-"==n[e]||"+"==n[e])&&(e+=1);RuntimeInternal.Digits[n[e]];)e+=1;var f=parseInt(n.substring(u,e));i*=10**f}return e-=1,i}function tostring(n){if(!0===n)return"true";if(!1===n)return"false";if(null==n)return"nil";if("object"==typeof n)return"table: "+RuntimeInternal.findRef(n);if("function"==typeof n)return"function: "+RuntimeInternal.findRef(n);else return String(n)}function type(n){if(null==n)return"nil";if("number"==typeof n)return"number";if("string"==typeof n)return"string";if(!0===n||!1===n)return"boolean";if("object"==typeof n)return"table";else if("function"==typeof n)return"function";else return"userdata"}function unpack(n,t,e){return void 0==t&&(t=1),void 0==e&&(e=RuntimeInternal.getLength(n)),n.slice(t,e+1)}function xpcall(n,t){var e;try{e=n(...args)}catch(r){if("string"==typeof r)return t(r);return t(r.name)}return[!0,...e]}function newproxy(){}var coroutine={};coroutine.create=function(){},coroutine.resume=function(){},coroutine.running=function(){},coroutine.status=function(){},coroutine.wrap=function(){},coroutine.yield=function(){};var debug={};debug.debug=function(){},debug.getfenv=function(){},debug.gethook=function(){},debug.getinfo=function(){},debug.getlocal=function(){},debug.getmetatable=function(){},debug.getregistry=function(){},debug.getupvalue=function(){},debug.setfenv=function(){},debug.sethook=function(){},debug.setlocal=function(){},debug.setmetatable=function(){},debug.setupvalue=function(){},debug.traceback=function(){};var io={};io.close=function(){},io.flush=function(){},io.input=function(){},io.lines=function(){},io.open=function(){},io.output=function(){},io.popen=function(){},io.read=function(){},io.stderr=function(){},io.stdin=function(){},io.stdout=function(){},io.tmpfile=function(){},io.type=function(){},io.write=function(...n){var t="";n.forEach(n=>{t=t+tostring(n)+"	"}),t=t.substring(0,t.length-1),process.stdout.write(t)};var math={};math.abs=function(n){return Math.abs(n)},math.acos=function(n){return Math.acos(n)},math.asin=function(n){return Math.asin(n)},math.atan=function(n){return Math.atan(n)},math.atan2=function(n,t){return Math.atan2(n,t)},math.ceil=function(n){return Math.ceil(n)},math.cos=function(n){return Math.cos(n)},math.cosh=function(n){return Math.cosh(n)},math.deg=function(n){return rad/(Math.PI/180)},math.exp=function(n){return Math.exp(n)},math.floor=function(n){return Math.floor(n)},math.fmod=function(n,t){return n%t},math.frexp=function(n){n=Number(n);let t=[n,0];if(0!==n&&Number.isFinite(n)){let e=Math.abs(n),r=Math.max(-1023,Math.floor(Math.log2(e))+1),i=e*Math.pow(2,-r);for(;i<.5;)i*=2,r--;for(;i>=1;)i*=.5,r++;n<0&&(i=-i),t[0]=i,t[1]=r}return t},math.huge=Number.MAX_SAFE_INTEGER,math.ldexp=function(n,t){for(var e=Math.min(3,Math.ceil(Math.abs(t)/1023)),r=n,i=0;i<e;i++)r*=Math.pow(2,Math.floor((t+i)/e));return r},math.log=function(n){return Math.log(n)},math.log10=function(n){return Math.log10(n)},math.max=function(...n){var t;return n.forEach(n=>{void 0==t?t=n:n>t&&(t=n)}),t},math.min=function(...n){var t;return n.forEach(n=>{void 0==t?t=n:n<t&&(t=n)}),t},math.modf=function(n){var t=Math.floor(n);return[t,n-t]},math.pi=Math.PI,math.pow=function(n,t){return Math.pow(n,t)},math.rad=function(n){return n*(Math.PI/180)},math.random=function(n,t){return void 0==n&&void 0==t?Math.random():void 0==t?RuntimeInternal.getRandom(1,n):RuntimeInternal.getRandom(n,t)},math.randomseed=function(n){},math.sin=function(n){return Math.sin(n)},math.sinh=function(n){return Math.sin(n)},math.sqrt=function(n){return Math.sqrt(n)},math.tan=function(n){return Math.tan(n)},math.tanh=function(n){return Math.tanh(n)};var os={};os.clock=function(){return(performance.now-RuntimeInternal.msSinceStart)/1e3},os.date=function(n,t){},os.difftime=function(n,t){return[n-t]},os.execute=function(n){},os.exit=function(n){void 0==n&&(n=0),process.exit(n)},os.getenv=function(){},os.remove=function(){},os.rename=function(){},os.setlocale=function(){},os.time=function(){},os.tmpname=function(){};var string={};string.byte=function(n,t,e){void 0==t&&(t=1),void 0==e&&(e=1)},string.char=function(...n){var t="";return n.forEach(n=>{t+=String.fromCharCode(n)}),t},string.dump=function(){},string.find=function(){},string.format=function(){},string.gmatch=function(){},string.gsub=function(){},string.len=function(){},string.lower=function(){},string.match=function(){},string.rep=function(){},string.reverse=function(){},string.sub=function(){},string.upper=function(){};var table={};table.concat=function(n,t,e,r){return(n=RuntimeInternal.coerceToArray(n),void 0==t&&(t=""),void 0==e&&(e=1),void 0==r&&(r=RuntimeInternal.getLength(n)),e>r)?"":n.slice(e,r+1).join(t)},table.insert=function(n,t,e){void 0==e&&(e=t,t=RuntimeInternal.getLength(n)+1);for(let r=RuntimeInternal.getLength(n)+1;r>t-1;r--)r==t?n[r]=e:n[r]=n[r-1]},table.maxn=function(n){var t=(n=RuntimeInternal.coerceToArray(n)).length;return t?t-1+1:0},table.remove=function(n,t){void 0==t&&(t=RuntimeInternal.getLength(n));for(let e=t;e<RuntimeInternal.getLength(n)+1;e++)e==RuntimeInternal.getLength(n)?n.pop():n[e]=n[e+1]},table.sort=function(n,t){void 0==t&&(t=RuntimeInternal.defaultSortComparisonf),n.sort(t)};

// Code
